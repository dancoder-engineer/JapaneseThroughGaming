{"ast":null,"code":"var _jsxFileName = \"/home/dan/code/projects/project2/frontend/src/components/Login.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport './styles/MainMenu.css';\nimport { NavLink, Switch, useHistory } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Login() {\n  _s();\n\n  const [errorMessage, setErrorMessage] = useState(\"\");\n  let user = null;\n\n  function youGetMe() {\n    return 0;\n    fetch(\"/getme/\").then(res => res.json()).then(data => console.log(data));\n  }\n\n  function logg(data) {\n    fetch(\"/login/\", {\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n      },\n      method: \"POST\",\n      body: JSON.stringify({\n        userName: data.userName,\n        password: data.password_digest\n      })\n    }).then(res => res.json()).then(data => console.log(data));\n  }\n\n  useEffect(() => youGetMe(), []);\n  let [up, setUp] = useState({\n    userName: \"\",\n    password: \"\"\n  });\n\n  function handleChange(e) {\n    setUp({ ...up,\n      [e.target.id]: e.target.value\n    });\n  } // function oldLogin(data){\n  //         //    console.log(data)\n  //           let getUser = data.find(i => i.userName === up.userName)\n  //         //    console.log(getUser)\n  //             if (getUser === undefined) {\n  //                 document.querySelector(\"#errorMessage\").innerHTML = \"User Not Found\"\n  //                 return 0\n  //             }\n  //             if (getUser.password !== up.password) {\n  //                 document.querySelector(\"#errorMessage\").innerHTML = \"Password Wrong\"\n  //                 return 0\n  //             }\n  //             getUserInfo(getUser)\n  // }\n\n\n  function tryToLogIn(e) {\n    e.preventDefault();\n    fetch(\"/login/\", {\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n      },\n      method: \"POST\",\n      body: JSON.stringify(up)\n    }).then(res => res.json()).then(data => {\n      //   console.log(data)\n      if (data.error) {\n        setErrorMessage(\"User name or password incorrect.\");\n      } else {\n        user = data;\n        history.push(\"/\");\n      }\n    });\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"centeredText\",\n      children: \"Japanese through JRPGs\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"centeredText\",\n      children: \"Login\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"error\",\n      id: \"errorMessage\",\n      children: errorMessage\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"centeredText\",\n        children: [\"User Name: \", /*#__PURE__*/_jsxDEV(\"input\", {\n          id: \"userName\",\n          onChange: e => handleChange(e)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 48\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"centeredText\",\n        children: [\"Password: \", /*#__PURE__*/_jsxDEV(\"input\", {\n          id: \"password\",\n          type: \"password\",\n          onChange: e => handleChange(e)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 47\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"centeredText\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: e => tryToLogIn(e),\n          children: \"Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 37\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(NavLink, {\n      to: \"/register\",\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"centeredText\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          children: \"Register\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 61\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 33\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 93,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Login, \"Rp/adu5rzF1clTh8KNyRkuhKzHk=\");\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useState","useEffect","NavLink","Switch","useHistory","Login","errorMessage","setErrorMessage","user","youGetMe","fetch","then","res","json","data","console","log","logg","headers","method","body","JSON","stringify","userName","password","password_digest","up","setUp","handleChange","e","target","id","value","tryToLogIn","preventDefault","error","history","push"],"sources":["/home/dan/code/projects/project2/frontend/src/components/Login.js"],"sourcesContent":["import React, {useState, useEffect} from \"react\"\nimport './styles/MainMenu.css'\nimport { NavLink, Switch, useHistory } from \"react-router-dom\"\n\nfunction Login() {\n\n    const [errorMessage, setErrorMessage] = useState(\"\")\n    let user = null\n\n    function youGetMe() {\n        return 0\n        fetch(\"/getme/\")\n        .then(res => res.json())\n        .then(data => console.log(data))\n    }\n\n    function logg(data) {\n        fetch(\"/login/\", {\n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json'\n            },\n            method: \"POST\",\n            body: JSON.stringify({\n                userName: data.userName,\n                password: data.password_digest\n            })\n        })\n        .then(res => res.json())\n        .then(data => console.log(data))\n    }\n\n    useEffect(() => youGetMe(), [])\n\n    \n    let [up, setUp] = useState({\n        userName: \"\",\n        password: \"\"\n    })\n\n    function handleChange(e){\n        setUp({\n            ...up,\n            [e.target.id]: e.target.value \n        })\n\n    }\n\n    // function oldLogin(data){\n        \n    //         //    console.log(data)\n    //           let getUser = data.find(i => i.userName === up.userName)\n    //         //    console.log(getUser)\n    //             if (getUser === undefined) {\n    //                 document.querySelector(\"#errorMessage\").innerHTML = \"User Not Found\"\n    //                 return 0\n    //             }\n    //             if (getUser.password !== up.password) {\n    //                 document.querySelector(\"#errorMessage\").innerHTML = \"Password Wrong\"\n    //                 return 0\n    //             }\n    //             getUserInfo(getUser)\n            \n    // }\n\n    function tryToLogIn(e){\n        e.preventDefault()\n        fetch(\"/login/\", {\n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json'\n            },\n            method: \"POST\",\n            body: JSON.stringify(up)\n        })\n        .then(res => res.json())\n        .then(data => { \n         //   console.log(data)\n            if(data.error) {\n                setErrorMessage(\"User name or password incorrect.\")               \n            } else {\n                user = data\n                history.push(\"/\")\n            }\n        }\n        )\n      \n\n    }\n\n\n    return (\n    <div>\n        <h1 className=\"centeredText\">Japanese through JRPGs</h1>\n        <h2 className=\"centeredText\">Login</h2>\n        <p className=\"error\" id=\"errorMessage\">{errorMessage}</p>\n        <form>\n        <p className=\"centeredText\">User Name: <input id=\"userName\" onChange={e => handleChange(e)} /></p>\n        <p className=\"centeredText\">Password: <input id=\"password\" type=\"password\" onChange={e => handleChange(e)} /></p>\n        \n        <p className=\"centeredText\"><button onClick={e => tryToLogIn(e)}>Login</button></p>\n        </form>\n        <NavLink to=\"/register\"><p className=\"centeredText\"><button>Register</button></p></NavLink>\n        <br />\n        <br />\n    </div>\n    )\n}\n\nexport default Login"],"mappings":"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"},"metadata":{},"sourceType":"module"}