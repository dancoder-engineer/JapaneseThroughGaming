{"ast":null,"code":"var _jsxFileName = \"/home/dan/code/projects/project2/japanese-gaming-course/src/components/Login.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport './styles/MainMenu.css';\nimport { NavLink, Switch, useHistory } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Login(_ref) {\n  _s();\n\n  let {\n    url,\n    getUserInfo\n  } = _ref;\n\n  function youGetMe() {\n    fetch(\"/getme/\").then(res => res.json()).then(data => console.log(data));\n  }\n\n  useEffect(() => youGetMe(), []);\n  let [up, setUp] = useState({\n    userName: \"\",\n    password: \"\"\n  });\n\n  function handleChange(e) {\n    console.log(up);\n    setUp({ ...up,\n      [e.target.id]: e.target.value\n    });\n  }\n\n  function oldLogin(data) {\n    //    console.log(data)\n    let getUser = data.find(i => i.userName === up.userName); //    console.log(getUser)\n\n    if (getUser === undefined) {\n      document.querySelector(\"#errorMessage\").innerHTML = \"User Not Found\";\n      return 0;\n    }\n\n    if (getUser.password !== up.password) {\n      document.querySelector(\"#errorMessage\").innerHTML = \"Password Wrong\";\n      return 0;\n    }\n\n    getUserInfo(getUser);\n  }\n\n  function tryToLogIn(e) {\n    e.preventDefault();\n    fetch(\"/login/\", {\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n      },\n      method: \"POST\",\n      body: JSON.stringify(up)\n    }).then(res => res.json()).then(data => {\n      console.log(data);\n      let getUser = data;\n\n      if (data === null) {\n        console.log(\"User name or password incorrect.\");\n      } else {\n        getUserInfo(getUser);\n      }\n    });\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"centeredText\",\n      children: \"Japanese through JRPGs\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"centeredText\",\n      children: \"Login\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"error\",\n      id: \"errorMessage\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"centeredText\",\n        children: [\"User Name: \", /*#__PURE__*/_jsxDEV(\"input\", {\n          id: \"userName\",\n          onChange: e => handleChange(e)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 48\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"centeredText\",\n        children: [\"Password: \", /*#__PURE__*/_jsxDEV(\"input\", {\n          id: \"password\",\n          type: \"password\",\n          onChange: e => handleChange(e)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 47\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"centeredText\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: e => tryToLogIn(e),\n          children: \"Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 37\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(NavLink, {\n      to: \"/register\",\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"centeredText\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          children: \"Register\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 61\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 33\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 74,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Login, \"LPIUt3P0PDpkmYzpS1psiChxvSc=\");\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useState","useEffect","NavLink","Switch","useHistory","Login","url","getUserInfo","youGetMe","fetch","then","res","json","data","console","log","up","setUp","userName","password","handleChange","e","target","id","value","oldLogin","getUser","find","i","undefined","document","querySelector","innerHTML","tryToLogIn","preventDefault","headers","method","body","JSON","stringify"],"sources":["/home/dan/code/projects/project2/japanese-gaming-course/src/components/Login.js"],"sourcesContent":["import React, {useState, useEffect} from \"react\"\nimport './styles/MainMenu.css'\nimport { NavLink, Switch, useHistory } from \"react-router-dom\"\n\nfunction Login({url, getUserInfo}) {\n\n    function youGetMe() {\n        fetch(\"/getme/\")\n        .then(res => res.json())\n        .then(data => console.log(data))\n    }\n\n    useEffect(() => youGetMe(), [])\n\n    \n    let [up, setUp] = useState({\n        userName: \"\",\n        password: \"\"\n    })\n\n    function handleChange(e){\n        console.log(up)\n        setUp({\n            ...up,\n            [e.target.id]: e.target.value \n        })\n\n    }\n\n    function oldLogin(data){\n        \n            //    console.log(data)\n              let getUser = data.find(i => i.userName === up.userName)\n            //    console.log(getUser)\n                if (getUser === undefined) {\n                    document.querySelector(\"#errorMessage\").innerHTML = \"User Not Found\"\n                    return 0\n                }\n                if (getUser.password !== up.password) {\n                    document.querySelector(\"#errorMessage\").innerHTML = \"Password Wrong\"\n                    return 0\n                }\n                getUserInfo(getUser)\n            \n    }\n\n    function tryToLogIn(e){\n        e.preventDefault()\n        fetch(\"/login/\", {\n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json'\n            },\n            method: \"POST\",\n            body: JSON.stringify(up)\n        })\n        .then(res => res.json())\n        .then(data => { \n            console.log(data)\n            let getUser = data\n            if(data === null) {\n                console.log (\"User name or password incorrect.\")               \n            } else {\n                getUserInfo(getUser)\n            }\n        }\n        )\n      \n\n    }\n\n\n    return (\n    <div>\n        <h1 className=\"centeredText\">Japanese through JRPGs</h1>\n        <h2 className=\"centeredText\">Login</h2>\n        <p className=\"error\" id=\"errorMessage\"></p>\n        <form>\n        <p className=\"centeredText\">User Name: <input id=\"userName\" onChange={e => handleChange(e)} /></p>\n        <p className=\"centeredText\">Password: <input id=\"password\" type=\"password\" onChange={e => handleChange(e)} /></p>\n        \n        <p className=\"centeredText\"><button onClick={e => tryToLogIn(e)}>Login</button></p>\n        </form>\n        <NavLink to=\"/register\"><p className=\"centeredText\"><button>Register</button></p></NavLink>\n        <br />\n        <br />\n    </div>\n    )\n}\n\nexport default Login"],"mappings":"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"},"metadata":{},"sourceType":"module"}